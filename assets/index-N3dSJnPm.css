*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;touch-action:manipulation}html{touch-action:manipulation}body{font-family:Pretendard,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;background:linear-gradient(135deg,#0f0c29,#302b63,#24243e);background-attachment:fixed;color:#ecf0f1;min-height:100vh;overflow-x:hidden;user-select:none;-webkit-user-select:none}#root{min-height:100vh;width:100%}.app-root{width:100%;height:100vh;background:linear-gradient(180deg,#000c,#0f0c29f2);display:flex;flex-direction:column;overflow:hidden;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.app-header{background:linear-gradient(135deg,#3498db33,#8e44ad33);padding:15px 20px;display:flex;justify-content:space-between;align-items:center;border-bottom:2px solid rgba(52,152,219,.3);flex-shrink:0;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.app-header h1{font-size:1.5em;font-weight:900;background:linear-gradient(135deg,#3498db,#9b59b6,#e74c3c);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:1px;text-shadow:0 0 20px rgba(52,152,219,.5)}.app-main{flex:1;overflow-y:auto;overflow-x:hidden;padding:10px;display:flex;flex-direction:column;min-height:0;max-height:100%}.app-main::-webkit-scrollbar{width:8px}.app-main::-webkit-scrollbar-track{background:#3498db1a;border-radius:10px}.app-main::-webkit-scrollbar-thumb{background:#3498db80;border-radius:10px}.app-footer{background:#1a252f;padding:12px 8px;text-align:center;font-size:.75em;color:#95a5a6;flex-shrink:0;min-height:50px}.footer-content{display:flex;align-items:center;justify-content:center;gap:8px}.footer-logo{height:20px;width:auto;object-fit:contain}.footer-text{font-size:1em;color:#95a5a6}.menu-bar{display:flex;gap:6px;padding:12px;background:#1a1a2ecc;border-bottom:1px solid rgba(52,152,219,.2);flex-shrink:0;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);overflow-x:auto}.menu-bar button{padding:10px 16px;border:1px solid rgba(52,152,219,.3);border-radius:12px;background:#3498db1a;color:#ecf0f1;font-size:.85em;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);white-space:nowrap;display:flex;flex-direction:column;align-items:center;gap:4px;min-width:70px}.menu-bar button .menu-icon{font-size:1.3em;filter:drop-shadow(0 0 8px rgba(52,152,219,.5))}.menu-bar button .menu-label{font-size:.9em}.menu-bar button:active{transform:scale(.95) translateY(1px)}.menu-bar button.active{background:linear-gradient(135deg,#3498db66,#9b59b666);border-color:#3498db99;box-shadow:0 4px 20px #3498db66,inset 0 1px #ffffff1a;color:#fff}.theme-selector{display:flex;align-items:center;gap:5px;font-size:.9em}.theme-selector label{font-weight:700;color:#ecf0f1;display:none}.theme-select{padding:6px 10px;border-radius:8px;border:2px solid #3498db;background:#2c3e50;color:#ecf0f1;font-size:.9em;width:100%}.main-menu{text-align:center;display:flex;flex-direction:column;height:100%;padding:20px 0}.menu-hero{margin-bottom:30px;animation:fadeInDown .6s ease-out}.menu-hero .hero-icon{font-size:4em;margin-bottom:15px;filter:drop-shadow(0 0 20px rgba(52,152,219,.6));animation:float 3s ease-in-out infinite}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes fadeInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.menu-hero h2{font-size:1.6em;font-weight:800;background:linear-gradient(135deg,#fff,#3498db);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:8px}.menu-hero p{color:#bdc3c7;font-size:.95em;font-weight:300}.menu-options{display:flex;flex-direction:column;gap:14px;margin-bottom:25px}.menu-btn{border:none;border-radius:18px;padding:22px 20px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:row;align-items:center;gap:18px;position:relative;overflow:hidden;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.menu-btn:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(255,255,255,.1),transparent);opacity:0;transition:opacity .3s}.menu-btn:active:before{opacity:1}.menu-btn.record-btn{background:linear-gradient(135deg,#e74c3c4d,#c0392b4d);border:1px solid rgba(231,76,60,.4);box-shadow:0 8px 24px #e74c3c4d}.menu-btn.play-btn{background:linear-gradient(135deg,#3498db4d,#2980b94d);border:1px solid rgba(52,152,219,.4);box-shadow:0 8px 24px #3498db4d}.menu-btn.settings-btn{background:linear-gradient(135deg,#9b59b64d,#8e44ad4d);border:1px solid rgba(155,89,182,.4);box-shadow:0 8px 24px #9b59b64d}.menu-btn:active{transform:scale(.97) translateY(2px);box-shadow:0 4px 12px #0006}.menu-btn .icon{font-size:3em;flex-shrink:0;filter:drop-shadow(0 0 10px rgba(255,255,255,.3))}.menu-btn .btn-content{display:flex;flex-direction:column;align-items:flex-start;gap:4px;flex:1}.menu-btn .label{font-size:1.3em;font-weight:800;color:#fff;text-align:left;text-shadow:0 2px 8px rgba(0,0,0,.3)}.menu-btn .desc{font-size:.9em;color:#fffc;text-align:left;font-weight:400}.info-box{background:#3498db14;border:1px solid rgba(52,152,219,.3);border-radius:16px;padding:20px;text-align:left;font-size:.9em;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 4px 16px #0003}.info-box h3{color:#3498db;margin-bottom:15px;font-size:1.15em;font-weight:700}.info-box ul{list-style:none;padding-left:0}.info-box li{margin:8px 0;padding-left:20px;position:relative;font-size:.85em}.info-box li:before{content:"▶";position:absolute;left:0;color:#3498db;font-size:.8em}.beatpad{display:grid;grid-template-columns:repeat(4,1fr);gap:6px;margin:0;padding:8px;flex-shrink:0;background:#0000004d;border-radius:12px 12px 0 0}.hit-btn{aspect-ratio:1;min-height:60px;max-height:75px;border:none;border-radius:12px;color:#fff;font-size:.9em;font-weight:800;cursor:pointer;transition:all .12s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;-webkit-user-select:none;user-select:none;-webkit-touch-callout:none;position:relative;overflow:hidden}.hit-btn:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(255,255,255,.2),transparent);opacity:0;transition:opacity .15s}.hit-btn:nth-child(1){background:linear-gradient(135deg,#e74c3c,#c0392b);box-shadow:0 6px 20px #e74c3c80,inset 0 1px #fff3}.hit-btn:nth-child(2){background:linear-gradient(135deg,#3498db,#2980b9);box-shadow:0 6px 20px #3498db80,inset 0 1px #fff3}.hit-btn:nth-child(3){background:linear-gradient(135deg,#f39c12,#e67e22);box-shadow:0 6px 20px #f39c1280,inset 0 1px #fff3}.hit-btn:nth-child(4){background:linear-gradient(135deg,#2ecc71,#27ae60);box-shadow:0 6px 20px #2ecc7180,inset 0 1px #fff3}.hit-btn:active:not(:disabled),.hit-btn.active{transform:scale(.9) translateY(2px);box-shadow:0 2px 10px #0009,inset 0 2px 5px #0000004d}.hit-btn:active:not(:disabled):before,.hit-btn.active:before{opacity:1}.hit-btn:disabled{opacity:.3;cursor:not-allowed;filter:grayscale(.5)}.hit-btn .key-number{font-size:2em;opacity:1;font-weight:900;letter-spacing:1px;text-shadow:0 2px 4px rgba(0,0,0,.8),0 0 20px rgba(255,255,255,.6),0 0 40px currentColor;filter:drop-shadow(0 0 8px rgba(255,255,255,.8));line-height:1;color:#fff}.play-mode-container{display:flex;flex-direction:column;height:100%;animation:fadeIn .4s ease-out}.game-screen{display:flex;flex-direction:column;height:100%;max-height:100%;min-height:0;overflow:hidden;animation:slideIn .4s ease-out}@keyframes slideIn{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.game-header{display:flex;justify-content:space-between;align-items:center;padding:6px 10px;background:#3498db1a;border-radius:8px;margin-bottom:6px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(52,152,219,.3)}.btn-back{background:#e74c3c33;border:1px solid rgba(231,76,60,.4);color:#fff;padding:6px 12px;border-radius:8px;font-size:.85em;font-weight:600;cursor:pointer;transition:all .3s ease}.btn-back:active{background:#e74c3c66;transform:scale(.95)}.now-playing{font-size:.85em;font-weight:600;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,.3);background:linear-gradient(135deg,#3498db33,#9b59b633);padding:6px 12px;border-radius:8px;border:1px solid rgba(52,152,219,.3);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px}.record-screen{text-align:center;display:flex;flex-direction:column;height:100%;min-height:0}.record-screen h2{color:#3498db;margin-bottom:8px;font-size:1.3em}.record-info{min-height:40px;margin-bottom:10px;font-size:.9em;flex-shrink:0}.record-settings-compact{display:flex;flex-direction:column;gap:10px;padding:12px;width:100%;margin:0 auto 12px;max-width:400px;background:#0000004d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;border:1px solid rgba(255,255,255,.15);flex-shrink:0}.setting-item{display:flex;flex-direction:column;gap:6px}.setting-label{color:#ecf0f1;font-size:.85em;font-weight:500;text-align:left}.beat-style-select-compact{width:100%;padding:8px 12px;background:#3498db26;border:2px solid rgba(52,152,219,.4);border-radius:8px;color:#ecf0f1;font-size:.9em;font-family:inherit;cursor:pointer;transition:all .3s}.beat-style-select-compact:focus{outline:none;border-color:#3498db;background:#3498db40;box-shadow:0 0 20px #3498db66}.beat-style-select-compact option{background:#2c3e50;color:#ecf0f1}.setting-row{display:flex;gap:10px}.setting-item-half{flex:1;display:flex;flex-direction:column;gap:6px}.setting-input-compact{width:100%;padding:8px 12px;background:#3498db26;border:2px solid rgba(52,152,219,.4);border-radius:8px;color:#ecf0f1;font-size:.9em;font-family:inherit;transition:all .3s}.setting-input-compact:focus{outline:none;border-color:#3498db;background:#3498db40;box-shadow:0 0 20px #3498db66}.volume-control{display:flex;align-items:center;gap:10px}.volume-slider{flex:1;height:6px;background:#3498db33;border-radius:3px;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.volume-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:18px;height:18px;background:#3498db;cursor:pointer;border-radius:50%;box-shadow:0 0 10px #3498dbcc}.volume-slider::-moz-range-thumb{width:18px;height:18px;background:#3498db;cursor:pointer;border-radius:50%;border:none;box-shadow:0 0 10px #3498dbcc}.volume-value{min-width:45px;text-align:right;color:#3498db;font-weight:600;font-size:.9em}.bgm-upload-compact{display:block;padding:10px 15px;background:#2ecc7126;border:2px solid rgba(46,204,113,.4);border-radius:8px;color:#2ecc71;font-size:.9em;text-align:center;cursor:pointer;transition:all .3s}.bgm-upload-compact:hover{background:#2ecc7140;border-color:#2ecc71;box-shadow:0 0 20px #2ecc714d}.bgm-file-input{display:none}.recording-indicator{color:#e74c3c;font-size:1.1em;font-weight:700;animation:pulse 1.5s infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.success-message{color:#2ecc71;font-size:1em;font-weight:700}.record-controls{display:flex;gap:8px;justify-content:center;margin-bottom:10px;flex-wrap:wrap;flex-shrink:0}.play-screen{position:relative;display:flex;flex-direction:column;height:100%;min-height:0;overflow:hidden}.play-header{display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:10px;padding:8px 10px;margin-bottom:8px;flex-shrink:0;background:#0006;border-radius:10px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.score-display{display:flex;align-items:center;gap:12px;font-size:.95em;font-weight:700}.score{color:#f39c12;white-space:nowrap}.combo{color:#e74c3c;white-space:nowrap}.play-controls{text-align:center;margin:0;padding:10px 0;flex-shrink:0;position:sticky;bottom:0;background:linear-gradient(to top,rgba(0,0,0,.9) 0%,rgba(0,0,0,.7) 50%,transparent 100%);z-index:100}.timeline-wrapper{position:relative;flex:1;overflow:hidden;border-radius:15px;margin:0 0 8px;min-height:0;box-shadow:0 4px 20px #00000080}.countdown-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1500;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.countdown-number{font-size:5em;font-weight:900;color:#3498db;text-shadow:0 0 30px rgba(52,152,219,.8),0 0 60px rgba(52,152,219,.5);animation:countdownPulse 1s ease-out}@keyframes countdownPulse{0%{transform:scale(.5);opacity:0}50%{transform:scale(1.2);opacity:1}to{transform:scale(1);opacity:1}}.game-over{color:#e74c3c;font-size:1.8em;font-weight:700;margin:15px 0;animation:shake .5s}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-10px)}75%{transform:translate(10px)}}.result-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000d9;display:flex;align-items:center;justify-content:center;z-index:2000;animation:fadeIn .3s ease-out}.result-modal{background:linear-gradient(135deg,#1e1e3cf2,#141428f2);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:20px;padding:25px 20px;max-width:350px;max-height:85vh;width:90%;border:2px solid rgba(52,152,219,.4);box-shadow:0 10px 40px #00000080;animation:modalPop .4s cubic-bezier(.68,-.55,.265,1.55);position:relative;overflow-y:auto;overflow-x:hidden}@keyframes modalPop{0%{opacity:0;transform:scale(.7) translateY(-20px)}to{opacity:1;transform:scale(1) translateY(0)}}.modal-close{position:absolute;top:10px;right:10px;background:#e74c3c4d;border:1px solid rgba(231,76,60,.5);color:#fff;font-size:1.5em;width:32px;height:32px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.modal-close:active{background:#e74c3c80;transform:scale(.9)}.game-over-title{font-size:1.8em;font-weight:900;color:#e74c3c;text-align:center;margin-bottom:20px;text-shadow:0 0 20px rgba(231,76,60,.6)}.result-success-title{font-size:1.8em;font-weight:900;color:#2ecc71;text-align:center;margin-bottom:20px;text-shadow:0 0 20px rgba(46,204,113,.6)}.result-panel{background:#0006;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:16px;padding:20px;margin:15px 0;border:2px solid rgba(52,152,219,.3)}.final-score{margin-bottom:20px}.score-title{color:#3498db;font-size:1em;font-weight:600;margin-bottom:8px}.score-value{color:gold;font-size:2.5em;font-weight:900;text-shadow:0 0 20px rgba(255,215,0,.6)}.judgement-stats{margin-top:15px}.stat-title{color:#ecf0f1;font-size:.95em;font-weight:600;margin-bottom:12px;text-align:center}.stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:12px}.stat-item{background:#ffffff0d;border-radius:8px;padding:10px 8px;text-align:center;border:2px solid transparent;transition:all .3s}.stat-item.perfect{border-color:#ffd70080}.stat-item.great{border-color:#2ecc7180}.stat-item.good{border-color:#3498db80}.stat-item.bad{border-color:#f39c1280}.stat-item.miss{border-color:#e74c3c80}.stat-label{display:block;font-size:.75em;font-weight:600;margin-bottom:4px;opacity:.8}.stat-item.perfect .stat-label{color:gold}.stat-item.great .stat-label{color:#2ecc71}.stat-item.good .stat-label{color:#3498db}.stat-item.bad .stat-label{color:#f39c12}.stat-item.miss .stat-label{color:#e74c3c}.stat-value{display:block;font-size:1.5em;font-weight:900;color:#fff}.max-combo{text-align:center;color:gold;font-size:1.1em;font-weight:700;margin-top:10px;text-shadow:0 0 10px rgba(255,215,0,.5)}.judgement-display{position:fixed;top:30%;left:50%;transform:translate(-50%,-50%);pointer-events:none;animation:judgementPop .25s cubic-bezier(.68,-.55,.265,1.55);z-index:1000;text-align:center}.judgement-grade{font-size:2.8em;font-weight:900;text-shadow:0 0 20px currentColor,2px 2px 8px rgba(0,0,0,.9);letter-spacing:2px;opacity:.95}.judgement-timing{font-size:1em;margin-top:3px;opacity:.7;text-shadow:1px 1px 4px rgba(0,0,0,.8)}@keyframes judgementPop{0%{opacity:0;transform:translate(-50%,-50%) scale(.5)}50%{transform:translate(-50%,-50%) scale(1.2)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}.feedback{position:fixed;top:40%;left:50%;transform:translate(-50%,-50%);font-size:2.5em;font-weight:700;pointer-events:none;animation:fadeOut .5s;z-index:1000;text-shadow:2px 2px 8px rgba(0,0,0,.8)}@keyframes fadeOut{0%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(1.3)}}.timeline{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(to bottom,#0000004d,#00000080);border-radius:15px;overflow:visible;box-shadow:inset 0 0 40px #0009}.hit-zone{position:absolute;bottom:22px;left:0;right:0;height:4px;background:linear-gradient(90deg,transparent 0%,rgba(231,76,60,.4) 6.25%,rgba(231,76,60,.9) 18.75%,rgba(231,76,60,.4) 31.25%,transparent 31.25%,transparent 31.25%,rgba(231,76,60,.4) 31.25%,rgba(231,76,60,.9) 43.75%,rgba(231,76,60,.4) 56.25%,transparent 56.25%,transparent 56.25%,rgba(231,76,60,.4) 56.25%,rgba(231,76,60,.9) 68.75%,rgba(231,76,60,.4) 81.25%,transparent 81.25%,transparent 81.25%,rgba(231,76,60,.4) 81.25%,rgba(231,76,60,.9) 93.75%,rgba(231,76,60,.4) 100%,transparent 100%);box-shadow:0 0 15px #e74c3c99;z-index:10}.note{position:absolute;width:45px;height:45px;z-index:5;display:flex;align-items:center;justify-content:center;will-change:transform,bottom;backface-visibility:hidden;transform:translateZ(0) translateY(-22px);filter:drop-shadow(0 4px 8px rgba(0,0,0,.6))}.note.diamond{background:linear-gradient(135deg,#ff0844,#ffb199,#ff0844);border:3px solid #fff;box-shadow:0 0 30px #ff0844,0 0 60px #ff084499,inset 0 0 15px #fff6;border-radius:6px;animation:diamondPulse 2s ease-in-out infinite}.note.diamond>*{transform:rotate(-45deg)}@keyframes diamondPulse{0%,to{transform:translateZ(0) rotate(45deg) scale(1);box-shadow:0 0 30px #ff0844,0 0 60px #ff084499,inset 0 0 15px #fff6}50%{transform:translateZ(0) rotate(45deg) scale(1.05);box-shadow:0 0 40px #ff0844,0 0 80px #ff0844cc,inset 0 0 20px #fff9}}.note.diamond:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:70%;height:70%;background:radial-gradient(circle,rgba(255,255,255,.8),transparent 70%);border-radius:4px;animation:sparkle 1.5s ease-in-out infinite}@keyframes sparkle{0%,to{opacity:.6}50%{opacity:1}}.note.star{width:40px;height:40px;background:radial-gradient(circle,rgba(255,215,0,.3),transparent);position:relative;animation:starPulse 1.5s ease-in-out infinite}@keyframes starPulse{0%,to{transform:translateZ(0) scale(1)}50%{transform:translateZ(0) scale(1.05)}}.note.star:before{content:"⭐";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:36px;filter:drop-shadow(0 0 20px rgba(255,215,0,1)) drop-shadow(0 0 40px rgba(255,215,0,.8));animation:starGlow 1.5s ease-in-out infinite}@keyframes starGlow{0%,to{filter:drop-shadow(0 0 20px rgba(255,215,0,1)) drop-shadow(0 0 40px rgba(255,215,0,.8))}50%{filter:drop-shadow(0 0 30px rgba(255,215,0,1)) drop-shadow(0 0 60px rgba(255,215,0,1))}}.note.heart{width:40px;height:40px;background:radial-gradient(circle,rgba(255,20,100,.3),transparent);position:relative;animation:heartPulse .8s ease-in-out infinite}@keyframes heartPulse{0%,to{transform:translateZ(0) scale(1)}50%{transform:translateZ(0) scale(1.1)}}.note.heart:before{content:"❤️";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:36px;filter:drop-shadow(0 0 20px rgba(255,20,100,1)) drop-shadow(0 0 40px rgba(255,20,100,.8));animation:heartBeat .8s ease-in-out infinite}@keyframes heartBeat{0%,to{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-50%) scale(1.15)}}.note.hexagon{width:40px;height:40px;background:radial-gradient(circle,rgba(192,132,252,.3),transparent);position:relative;animation:hexagonPulse 1.5s ease-in-out infinite}@keyframes hexagonPulse{0%,to{transform:translateZ(0) scale(1)}50%{transform:translateZ(0) scale(1.05)}}.note.hexagon>.hex-inner{width:36px;height:20px;background:linear-gradient(135deg,#c084fc,#9333ea,#c084fc);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:3px;box-shadow:0 0 30px #c084fc,0 0 60px #9333ea99;animation:hexagonPulse 1.5s ease-in-out infinite}@keyframes hexagonPulse{0%,to{filter:brightness(1)}50%{filter:brightness(1.3)}}.note.hexagon>.hex-inner:before{content:"";position:absolute;top:-10px;left:0;width:0;height:0;border-left:18px solid transparent;border-right:18px solid transparent;border-bottom:10px solid #c084fc;filter:drop-shadow(0 0 10px rgba(192,132,252,.8))}.note.hexagon>.hex-inner:after{content:"";position:absolute;bottom:-10px;left:0;width:0;height:0;border-left:18px solid transparent;border-right:18px solid transparent;border-top:10px solid #9333ea;filter:drop-shadow(0 0 10px rgba(147,51,234,.8))}.note.square{width:40px;height:40px;background:linear-gradient(135deg,#10b981,#059669,#10b981);border:3px solid #fff;border-radius:6px;box-shadow:0 0 30px #10b981,0 0 60px #059669b3,inset 0 0 15px #fff6;animation:squarePulse 1.5s ease-in-out infinite}@keyframes squarePulse{0%,to{transform:translateZ(0) scale(1)}50%{transform:translateZ(0) scale(1.05)}}.note.square:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:60%;height:60%;background:#fff9;border-radius:3px;animation:squareInner 1.5s ease-in-out infinite}@keyframes squareInner{0%,to{opacity:.6}50%{opacity:1}}.note.circle{width:40px;height:40px;background:radial-gradient(circle at 30% 30%,#60a5fa,#3b82f6 50%,#1e40af);border-radius:50%;border:3px solid white;box-shadow:0 0 30px #60a5fa,0 0 60px #3b82f6b3,inset -8px -8px 15px #0006;animation:circleShine 1.5s ease-in-out infinite;transform:translateZ(0) scale(1)}@keyframes circleShine{0%,to{transform:translateZ(0) scale(1);box-shadow:0 0 30px #60a5fa,0 0 60px #3b82f6b3,inset -8px -8px 15px #0006}50%{transform:translateZ(0) scale(1.05);box-shadow:0 0 40px #60a5fa,0 0 80px #3b82f6,inset -8px -8px 20px #0000004d}}.note.circle:before{content:"";position:absolute;top:6px;left:6px;width:14px;height:14px;background:#ffffffe6;border-radius:50%;filter:blur(3px);animation:shineMove 2s ease-in-out infinite}@keyframes shineMove{0%,to{top:6px;left:6px}50%{top:4px;left:4px}}@keyframes slideDown{0%{top:-50px}to{top:100%}}.health-bar{display:flex;align-items:center;gap:6px;background:#0003;padding:4px 8px;border-radius:8px;flex:1;min-width:0}.hp-label{font-weight:700;font-size:.85em;min-width:28px;color:#3498db}.hp-bar-container{flex:1;height:18px;background:#00000080;border-radius:9px;overflow:hidden;border:1.5px solid #34495e;min-width:80px}.hp-bar-fill{height:100%;transition:width .3s ease,background-color .3s ease;box-shadow:inset 0 1px 4px #ffffff4d}.hp-value{font-weight:700;min-width:55px;text-align:right;font-size:.8em;white-space:nowrap}.settings{width:100%;animation:fadeIn .4s ease-out}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.settings h2{font-size:1.6em;font-weight:800;background:linear-gradient(135deg,#3498db,#9b59b6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:25px;text-align:center}.settings-group{display:flex;flex-direction:column;gap:10px;margin-bottom:25px}.settings-section-title{font-size:1.1em;font-weight:700;color:#3498db;margin:15px 0 10px;padding-bottom:8px;border-bottom:2px solid rgba(52,152,219,.3)}.settings label{display:flex;justify-content:space-between;align-items:center;padding:14px 16px;background:#3498db14;border-radius:12px;border:1px solid rgba(52,152,219,.25);font-size:.9em;transition:all .3s ease;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.settings label:active{background:#3498db26;transform:scale(.99)}.settings label span{font-weight:700;color:#ecf0f1;flex:1}.settings input{width:80px;padding:8px;border-radius:8px;border:2px solid #3498db;background:#2c3e50;color:#ecf0f1;font-size:1em;text-align:center}.beat-style-select{width:150px;padding:8px 12px;border-radius:8px;border:2px solid #3498db;background:#2c3e50;color:#ecf0f1;font-size:1em;cursor:pointer;outline:none}.beat-style-select:focus{border-color:#5dade2;box-shadow:0 0 8px #3498db80}.bgm-upload-section{background:#3498db1a;border:2px solid #3498db;border-radius:10px;padding:15px;margin-top:10px}.bgm-upload-label{display:flex;flex-direction:column;gap:10px;font-weight:700;color:#ecf0f1;cursor:pointer}.bgm-file-input{margin-top:8px;padding:8px;border-radius:8px;border:2px solid #3498db;background:#2c3e50;color:#ecf0f1;font-size:.9em;cursor:pointer}.bgm-file-input::-webkit-file-upload-button{background:#3498db;color:#fff;border:none;padding:8px 15px;border-radius:6px;cursor:pointer;font-weight:700}.bgm-file-input::-webkit-file-upload-button:active{background:#2980b9}.bgm-hint{font-size:.8em;color:#95a5a6;margin-top:5px;font-style:italic}.btn-primary{background:linear-gradient(135deg,#3498db,#2980b9);color:#fff;border:none;padding:15px 35px;border-radius:12px;font-size:1.1em;font-weight:700;cursor:pointer;transition:all .2s ease;box-shadow:0 4px 12px #3498db66;min-height:50px}.btn-primary:active{transform:scale(.96);box-shadow:0 2px 8px #3498db66}.btn-large{font-size:1.3em;padding:18px 40px;min-height:60px}.btn-secondary{background:#95a5a6;color:#fff;border:none;padding:12px 25px;border-radius:10px;font-size:1em;cursor:pointer;transition:all .2s ease;min-height:45px}.btn-secondary:active{background:#7f8c8d;transform:scale(.96)}.btn-danger{background:linear-gradient(135deg,#e74c3c,#c0392b);color:#fff;border:none;padding:15px 35px;border-radius:12px;font-size:1.1em;font-weight:700;cursor:pointer;transition:all .2s ease;box-shadow:0 4px 12px #e74c3c66;min-height:50px}.btn-danger:active{transform:scale(.96);box-shadow:0 2px 8px #e74c3c66}@media (orientation: landscape) and (max-height: 600px){.app-header h1{font-size:1.2em}.app-header{padding:8px 15px}.app-main{padding:10px}.beatpad{gap:8px}.hit-btn{min-height:80px}.hit-btn .key-label{font-size:2em}.app-footer{display:none}}@media (max-width: 360px){.app-header h1{font-size:1.3em}.menu-bar{grid-template-columns:repeat(2,1fr);gap:6px}.hit-btn{min-height:70px}.hit-btn .key-label{font-size:1.5em}.beatpad{gap:5px;padding:0 2px}}.beat-list{margin:10px 0;animation:fadeIn .4s ease-out;display:flex;flex-direction:column;min-height:0;max-height:100%;overflow:hidden}.beat-list h3{font-size:1.05em;font-weight:700;background:linear-gradient(135deg,#3498db,#9b59b6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:10px;text-align:center;flex-shrink:0}.beat-items{display:flex;flex-direction:column;gap:12px;flex:1;overflow-y:auto;overflow-x:hidden;padding:5px;min-height:200px;max-height:calc(100vh - 240px)}.beat-items::-webkit-scrollbar{width:8px}.beat-items::-webkit-scrollbar-track{background:#3498db1a;border-radius:10px;margin:4px 0}.beat-items::-webkit-scrollbar-thumb{background:#3498db99;border-radius:10px;border:2px solid transparent;background-clip:padding-box}.beat-items::-webkit-scrollbar-thumb:hover{background:#3498dbcc;background-clip:padding-box}.beat-item{background:linear-gradient(135deg,#1a1a2eb3,#2c3e5099);border:2px solid rgba(52,152,219,.3);border-radius:16px;padding:14px 16px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:relative;overflow:hidden;flex-shrink:0;min-width:0;box-shadow:0 4px 12px #0000004d}.beat-item:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,#3498db,#9b59b6);opacity:0;transition:opacity .3s}.beat-item:hover{transform:translate(4px);border-color:#3498db99;box-shadow:0 8px 24px #3498db4d}.beat-item:hover:before{opacity:1}.beat-item:active{transform:translate(4px) scale(.98)}.beat-item.selected{background:linear-gradient(135deg,#2ecc7140,#3498db40);border-color:#2ecc7199;box-shadow:0 8px 24px #2ecc7166}.beat-item.selected:before{background:linear-gradient(180deg,#2ecc71,#3498db);opacity:1}.beat-item-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px;gap:12px}.beat-title-section{display:flex;flex-direction:column;gap:4px;flex:1;min-width:0}.beat-name{font-weight:800;font-size:1em;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.3);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.beat-date{font-size:.75em;color:#ffffff80;font-weight:500}.beat-actions{display:flex;gap:6px;position:relative;z-index:10;flex-shrink:0}.action-btn{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:10px;border:2px solid;cursor:pointer;transition:all .3s ease;position:relative;z-index:11;font-size:.9em}.btn-icon{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.records-btn{background:#3498db33;border-color:#3498db66}.records-btn:hover{background:#3498db66;transform:scale(1.1);box-shadow:0 4px 12px #3498db66}.duplicate-btn{background:#9b59b633;border-color:#9b59b666}.duplicate-btn:hover{background:#9b59b666;transform:scale(1.1);box-shadow:0 4px 12px #9b59b666}.export-btn{background:#2ecc7133;border-color:#2ecc7166}.export-btn:hover{background:#2ecc7166;transform:scale(1.1);box-shadow:0 4px 12px #2ecc7166}.delete-btn{background:#e74c3c33;border-color:#e74c3c66}.delete-btn:hover{background:#e74c3c66;transform:scale(1.1);box-shadow:0 4px 12px #e74c3c66}.action-btn:active{transform:scale(.95)}.beat-stats-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:10px}.stat-badge{background:#3498db26;border:1px solid rgba(52,152,219,.3);border-radius:10px;padding:8px 10px;display:flex;align-items:center;gap:8px;transition:all .3s ease}.stat-badge:hover{background:#3498db40;transform:translateY(-2px)}.badge-icon{font-size:1.3em;filter:drop-shadow(0 0 8px rgba(52,152,219,.5));flex-shrink:0}.badge-content{display:flex;flex-direction:column;gap:2px;min-width:0}.badge-value{font-size:.9em;font-weight:800;color:#fff;line-height:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.badge-label{font-size:.7em;color:#fff9;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.stat-badge.bgm{grid-column:span 2}.stat-badge.bgm .badge-value{font-size:.8em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.beat-difficulty{display:flex;justify-content:flex-end}.difficulty-badge{display:inline-flex;align-items:center;gap:6px;padding:5px 12px;border-radius:8px;font-size:.8em;font-weight:700;border:2px solid;transition:all .3s ease}.difficulty-icon{font-size:1.1em}.difficulty-badge.easy{background:#2ecc7133;border-color:#2ecc7180;color:#2ecc71}.difficulty-badge.normal{background:#f1c40f33;border-color:#f1c40f80;color:#f1c40f}.difficulty-badge.hard{background:#e67e2233;border-color:#e67e2280;color:#e67e22}.difficulty-badge.very-hard{background:#e74c3c33;border-color:#e74c3c80;color:#e74c3c;animation:pulse 2s ease-in-out infinite}@keyframes pulse{0%,to{box-shadow:0 0 #e74c3c80}50%{box-shadow:0 0 12px 4px #e74c3c4d}}.beat-list-empty{text-align:center;padding:50px 20px;color:#ffffff80;background:#3498db0d;border:1px dashed rgba(52,152,219,.3);border-radius:16px;margin:20px 0}.beat-list-empty p{margin:12px 0;font-size:1.1em}.beat-list-empty p:first-child{font-size:1.3em;font-weight:600}.empty-hint{font-size:.95em;color:#fff6}.save-beat-dialog{background:#2c3e50f2;border:3px solid #3498db;border-radius:15px;padding:20px;margin:15px 0}.save-beat-dialog h3{color:#3498db;margin-bottom:15px;text-align:center}.save-beat-form{display:flex;flex-direction:column;gap:12px}.save-beat-form label{display:flex;flex-direction:column;gap:5px}.save-beat-form label span{font-size:.9em;color:#bdc3c7;font-weight:700}.save-beat-form input{padding:12px;border-radius:8px;border:2px solid #3498db;background:#2c3e50;color:#ecf0f1;font-size:1em}.duplicate-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000d9;display:flex;align-items:center;justify-content:center;z-index:3000;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.duplicate-modal{background:linear-gradient(135deg,#2c3e50f2,#34495ef2);border:2px solid rgba(52,152,219,.5);border-radius:20px;padding:25px;max-width:500px;width:90%;max-height:80vh;overflow-y:auto;box-shadow:0 10px 40px #00000080,inset 0 1px #ffffff1a}.duplicate-modal h2{margin:0 0 20px;font-size:1.5em;color:#fff;text-align:center;text-shadow:0 2px 10px rgba(52,152,219,.5)}.duplicate-form{display:flex;flex-direction:column;gap:15px;margin-bottom:20px}.duplicate-field{display:flex;flex-direction:column;gap:8px}.duplicate-field label{font-size:.9em;font-weight:700;color:#ecf0f1;text-shadow:0 1px 2px rgba(0,0,0,.3)}.duplicate-field input,.duplicate-field select{padding:10px 12px;border-radius:8px;border:2px solid rgba(52,152,219,.3);background:#2c3e5099;color:#ecf0f1;font-size:1em;transition:all .3s ease}.duplicate-field input:focus,.duplicate-field select:focus{outline:none;border-color:#3498db;box-shadow:0 0 10px #3498db80}.duplicate-field input[type=range]{padding:0;height:6px}.volume-display{font-size:.9em;color:#3498db;font-weight:700;text-align:right}.duplicate-buttons{display:flex;gap:10px;justify-content:flex-end}.duplicate-cancel-btn,.duplicate-save-btn{padding:12px 24px;border-radius:10px;border:none;font-size:1em;font-weight:700;cursor:pointer;transition:all .3s ease}.duplicate-cancel-btn{background:#e74c3c33;border:2px solid rgba(231,76,60,.5);color:#e74c3c}.duplicate-cancel-btn:hover{background:#e74c3c4d;transform:scale(1.05)}.duplicate-save-btn{background:linear-gradient(135deg,#3498db,#2ecc71);color:#fff;box-shadow:0 4px 15px #3498db66}.duplicate-save-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px #3498db99}.duplicate-save-btn:active{transform:translateY(0)}.save-beat-actions{display:flex;gap:10px;margin-top:10px}.save-beat-actions button{flex:1}.records-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#0f0c29bf;display:flex;align-items:center;justify-content:center;z-index:10000;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);animation:fadeIn .3s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.records-modal{position:relative;background:linear-gradient(135deg,#1a1a2efa,#2c3e50fa);border-radius:20px;border:2px solid rgba(52,152,219,.4);box-shadow:0 20px 60px #00000080,0 0 40px #3498db4d;max-width:90vw;max-height:80vh;width:600px;display:flex;flex-direction:column;animation:slideUp .3s ease}@keyframes slideUp{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}.records-header{padding:20px 24px;background:linear-gradient(135deg,#3498db33,#8e44ad33);border-bottom:2px solid rgba(52,152,219,.3);display:flex;justify-content:space-between;align-items:center;flex-shrink:0}.records-header h2{font-size:1.1em;font-weight:700;background:linear-gradient(135deg,#3498db,#9b59b6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.records-close-btn{background:#e74c3c33;border:2px solid rgba(231,76,60,.5);color:#e74c3c;border-radius:10px;padding:8px 16px;font-size:1.1em;font-weight:700;cursor:pointer;transition:all .3s ease}.records-close-btn:hover{background:#e74c3c4d;transform:scale(1.05)}.records-close-btn:active{transform:scale(.95)}.records-content{padding:20px 24px;overflow-y:auto;flex:1;min-height:0}.records-content::-webkit-scrollbar{width:8px}.records-content::-webkit-scrollbar-track{background:#3498db1a;border-radius:10px}.records-content::-webkit-scrollbar-thumb{background:#3498db80;border-radius:10px}.records-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;gap:20px}.loading-spinner{width:50px;height:50px;border:4px solid rgba(52,152,219,.2);border-top-color:#3498db;border-radius:50%;animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.records-loading p{color:#95a5a6;font-size:1em}.no-records{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.no-records-icon{font-size:4em;margin-bottom:20px;opacity:.6;animation:bounce 2s ease-in-out infinite}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.no-records h3{font-size:1.3em;color:#ecf0f1;margin-bottom:12px;font-weight:700}.no-records p{color:#95a5a6;font-size:1em;line-height:1.6}.records-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:28px}.stat-card{background:linear-gradient(135deg,#3498db26,#8e44ad1a);border:2px solid rgba(52,152,219,.3);border-radius:16px;padding:16px;display:flex;align-items:center;gap:12px;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.stat-card:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,#3498db1a,#8e44ad1a);opacity:0;transition:opacity .3s ease}.stat-card:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 12px 30px #3498db66;border-color:#3498db99}.stat-card:hover:before{opacity:1}.stat-icon{font-size:1.6em;filter:drop-shadow(0 0 10px rgba(52,152,219,.5));flex-shrink:0}.stat-info{display:flex;flex-direction:column;gap:4px;flex:1}.stat-label{font-size:.75em;color:#95a5a6;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.stat-value{font-size:1.2em;font-weight:900;background:linear-gradient(135deg,#3498db,#2ecc71);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1}.records-history{margin-top:8px}.history-title{display:flex;align-items:center;gap:8px;font-size:1em;color:#ecf0f1;margin-bottom:14px;padding-bottom:10px;border-bottom:2px solid rgba(52,152,219,.3)}.title-icon{font-size:1.1em;filter:drop-shadow(0 0 8px rgba(52,152,219,.5))}.records-list{display:flex;flex-direction:column;gap:12px}.record-card{background:linear-gradient(135deg,#1a1a2e99,#2c3e5066);border:2px solid rgba(52,152,219,.25);border-radius:14px;padding:16px;display:flex;gap:14px;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.record-card:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,#3498db,#9b59b6);opacity:0;transition:opacity .3s ease}.record-card:hover{transform:translate(4px);border-color:#3498db80;background:linear-gradient(135deg,#1a1a2ecc,#2c3e5099);box-shadow:0 8px 24px #3498db4d}.record-card:hover:before{opacity:1}.record-rank{font-size:1em;font-weight:900;color:#3498db;min-width:35px;display:flex;align-items:center;justify-content:center;background:#3498db26;border-radius:10px;padding:6px}.record-main{flex:1;display:flex;flex-direction:column;gap:10px}.record-header{display:flex;justify-content:space-between;align-items:center;padding-bottom:8px;border-bottom:1px solid rgba(52,152,219,.2)}.record-date{font-size:.85em;font-weight:700;color:#ecf0f1}.record-time{font-size:.75em;color:#95a5a6;font-weight:600}.record-score{display:flex;align-items:center;gap:10px}.score-label{font-size:.8em;color:#95a5a6;font-weight:600}.score-value{font-size:1.1em;font-weight:900;background:linear-gradient(135deg,#f39c12,#e74c3c);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.record-combo{display:flex;align-items:center;gap:6px}.combo-icon{font-size:.95em}.combo-value{font-size:.85em;color:#e67e22;font-weight:700}.record-judgements{display:flex;gap:8px;flex-wrap:wrap}.judgement-badge{display:flex;align-items:center;gap:4px;padding:4px 10px;border-radius:8px;font-size:.85em;font-weight:700;border:2px solid;transition:all .3s ease}.judgement-badge:hover{transform:scale(1.05)}.badge-label{font-weight:900;opacity:.8}.badge-value{font-weight:900}.judgement-badge.perfect{background:#2ecc7126;border-color:#2ecc7166;color:#2ecc71}.judgement-badge.great{background:#3498db26;border-color:#3498db66;color:#3498db}.judgement-badge.good{background:#f1c40f26;border-color:#f1c40f66;color:#f1c40f}.judgement-badge.bad{background:#e67e2226;border-color:#e67e2266;color:#e67e22}.judgement-badge.miss{background:#e74c3c26;border-color:#e74c3c66;color:#e74c3c}.modal-close-btn{position:absolute;top:16px;right:16px;width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:#e74c3c33;border:2px solid rgba(231,76,60,.5);border-radius:50%;color:#e74c3c;font-size:1.5em;font-weight:700;cursor:pointer;transition:all .3s ease;z-index:10;box-shadow:0 4px 12px #e74c3c4d}.modal-close-btn:hover{background:#e74c3c66;border-color:#e74c3ccc;transform:rotate(90deg) scale(1.1);box-shadow:0 6px 20px #e74c3c80}.modal-close-btn:active{transform:rotate(90deg) scale(.95)}@media (max-width: 768px){.modal-close-btn{width:32px;height:32px;font-size:1.3em;top:12px;right:12px}.records-modal{max-width:95vw;max-height:85vh}.records-header h2{font-size:1.1em}.records-stats{grid-template-columns:1fr;gap:10px}.stat-card{padding:14px}.stat-icon{font-size:1.8em}.stat-value{font-size:1.4em}.record-card{padding:14px;gap:10px}.record-rank{font-size:1.2em;min-width:35px}.record-score{flex-direction:column;align-items:flex-start;gap:4px}.score-value{font-size:1.3em}.record-judgements{gap:6px}.judgement-badge{padding:3px 8px;font-size:.8em}}
